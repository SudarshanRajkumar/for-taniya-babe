<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>For Taniya ğŸ’Œ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,700;1,700&family=Quicksand:wght@400;500;600&family=Dancing+Script:wght@600&family=Caveat:wght@500&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Quicksand', sans-serif;
            background-color: #f3e8ff;
            overflow-x: hidden;
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent;
        }
        .serif-font { font-family: 'Playfair Display', serif; }
        .script-font { font-family: 'Dancing Script', cursive; }
        .handwriting-font { font-family: 'Caveat', cursive; }
        
        /* Mobile Viewport Fix */
        .min-h-screen-ios {
            min-height: 100vh;
            min-height: -webkit-fill-available;
        }

        /* Loader Styles */
        #loading-screen {
            position: fixed;
            inset: 0;
            background-color: #f3e8ff;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            transition: opacity 0.8s ease-in-out;
        }
        .progress-bar-bg {
            width: 220px;
            height: 8px;
            background: rgba(167, 139, 250, 0.15);
            border-radius: 12px;
            overflow: hidden;
            margin-top: 25px;
        }
        .progress-bar-fill {
            width: 0%;
            height: 100%;
            background: #a78bfa;
            border-radius: 12px;
            transition: width 3.5s cubic-bezier(0.65, 0, 0.35, 1);
        }

        /* Sidebar & Overlay Navigation */
        #sidebar-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.2);
            backdrop-filter: blur(6px);
            z-index: 2000;
            display: none;
            opacity: 0;
            transition: opacity 0.4s ease;
        }
        #explore-sidebar { 
            position: fixed;
            top: 0;
            right: 0;
            height: 100%;
            width: 280px;
            max-width: 85%;
            background: white;
            z-index: 2001;
            transform: translateX(100%);
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: -10px 0 40px rgba(0,0,0,0.1);
            padding-top: env(safe-area-inset-top);
        }
        .sidebar-active #explore-sidebar { transform: translateX(0); }
        .sidebar-active #sidebar-overlay { display: block; opacity: 1; }

        /* Floating Animation */
        @keyframes float {
            0% { transform: translateY(0px) rotate(0deg); opacity: 0.2; }
            50% { transform: translateY(-20px) rotate(10deg); opacity: 0.4; }
            100% { transform: translateY(0px) rotate(0deg); opacity: 0.2; }
        }
        .sparkle { position: absolute; pointer-events: none; animation: float 5s ease-in-out infinite; z-index: 0; }

        /* Music Disc Logo */
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .disc-logo {
            width: 50px;
            height: 50px;
            background: #222;
            border-radius: 50%;
            border: 4px solid #444;
            position: relative;
            animation: spin 4s linear infinite;
        }
        .disc-logo::after {
            content: "";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 14px;
            height: 14px;
            background: #f3e8ff;
            border-radius: 50%;
            border: 2px solid #a78bfa;
        }

        /* Button "Pressed" Feedback */
        .btn-pressed {
            transform: scale(0.92) translateY(2px) !important;
            box-shadow: inset 0 4px 8px rgba(0,0,0,0.1) !important;
            background-color: #9333ea !important;
        }

        /* Glass Cards */
        .glass-card {
            background: rgba(255, 245, 245, 0.75);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.9);
            border-radius: 2.5rem;
        }

        /* Envelope */
        .envelope {
            position: relative;
            width: 280px;
            height: 180px;
            background: #d8b4fe;
            border-radius: 12px;
            box-shadow: 0 12px 30px rgba(0,0,0,0.08);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        .envelope::before {
            content: "";
            position: absolute;
            top: 0;
            border-left: 140px solid transparent;
            border-right: 140px solid transparent;
            border-top: 100px solid #e9d5ff;
            border-radius: 12px 12px 0 0;
        }

        /* Memory Game Stats */
        .stat-box {
            background: white;
            padding: 1rem;
            border-radius: 1.5rem;
            box-shadow: 0 10px 25px rgba(167, 139, 250, 0.12);
            border: 2px solid #f3e8ff;
            text-align: center;
            min-width: 100px;
        }
        .memory-card {
            width: 70px;
            height: 90px;
            cursor: pointer;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .memory-card.flipped { transform: rotateY(180deg); }
        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
        }
        .card-front { background-color: #a78bfa; color: white; font-size: 1.5rem; font-weight: bold; }
        .card-back { background-color: #fff; transform: rotateY(180deg); font-size: 2rem; }

        .hidden-section { display: none; opacity: 0; }
        .fade-in { animation: fadeIn 0.8s forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }

        @media (max-width: 640px) {
            .memory-card { width: 60px; height: 80px; }
            .envelope { width: 240px; height: 160px; }
            .envelope::before { border-left-width: 120px; border-right-width: 120px; border-top-width: 80px; }
        }
    </style>
</head>
<body class="min-h-screen-ios flex flex-col items-center justify-center p-4 relative">

    <!-- INITIAL LOADING SCREEN -->
    <div id="loading-screen">
        <div class="relative mb-6">
            <img src="https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExM3Z6c2xudGR6Z2R6ZGR6ZGR6ZGR6ZGR6ZGR6ZGR6ZGR6ZGR6ZGR6JmVwPXYxX2ludGVybmFsX2dpZl9ieV9pZCZjdD1z/06mX8IqV0MvS9P6V6E/giphy.gif" alt="Preparing" class="w-32 h-32 md:w-44 md:h-44 object-contain">
            <div class="absolute -top-4 left-1/2 -translate-x-1/2 text-pink-400 text-3xl animate-bounce">â¤ï¸</div>
        </div>
        <h2 class="serif-font text-purple-600 text-2xl md:text-3xl font-bold mb-2 text-center">Something Special âœ¨</h2>
        <p class="text-purple-400 text-sm font-medium italic text-center px-4">is being prepared for you... ğŸ’«</p>
        <div class="progress-bar-bg">
            <div id="loading-bar" class="progress-bar-fill"></div>
        </div>
    </div>

    <!-- SIDEBAR & OVERLAY -->
    <div id="sidebar-overlay" onclick="toggleSidebar()"></div>
    <div id="explore-sidebar" class="flex flex-col p-6 md:p-8">
        <h2 class="serif-font italic text-purple-600 text-3xl mb-10 mt-10 text-center">Explore</h2>
        <div class="flex-1 space-y-3 overflow-y-auto pr-2">
            <button onclick="showSection(1); toggleSidebar();" class="w-full flex items-center space-x-4 p-4 rounded-2xl hover:bg-purple-50 transition-all text-purple-600 font-medium active:scale-95">
                <span>âœ¨</span> <span>Start</span>
            </button>
            <button onclick="showSection(5); toggleSidebar();" class="w-full flex items-center justify-between p-4 rounded-2xl bg-gradient-to-r from-purple-400 to-purple-500 text-white font-medium shadow-md transition-all active:scale-95">
                <div class="flex items-center space-x-4"><span>ğŸ­</span> <span>Activities</span></div><span>â†’</span>
            </button>
            <button onclick="showSection(4); toggleSidebar();" class="w-full flex items-center space-x-4 p-4 rounded-2xl hover:bg-purple-50 transition-all text-purple-600 font-medium active:scale-95">
                <span>ğŸµ</span> <span>Chill Zone</span>
            </button>
            <button onclick="showSection(5); toggleSidebar();" class="w-full flex items-center space-x-4 p-4 rounded-2xl hover:bg-purple-50 transition-all text-purple-600 font-medium active:scale-95">
                <span>ğŸ§ </span> <span>Memory Game</span>
            </button>
            <button onclick="showSection(7); toggleSidebar();" class="w-full flex items-center space-x-4 p-4 rounded-2xl hover:bg-purple-50 transition-all text-purple-600 font-medium active:scale-95">
                <span>ğŸ“¸</span> <span>Moments</span>
            </button>
            <button onclick="showSection(8); toggleSidebar();" class="w-full flex items-center space-x-4 p-4 rounded-2xl hover:bg-purple-50 transition-all text-purple-600 font-medium active:scale-95">
                <span>ğŸ’–</span> <span>Why Special</span>
            </button>
            <button onclick="showSection(9); toggleSidebar();" class="w-full flex items-center space-x-4 p-4 rounded-2xl hover:bg-purple-50 transition-all text-purple-600 font-medium border-2 border-purple-200 bg-purple-50 active:scale-95">
                <span>ğŸ’Œ</span> <span>Letter</span>
            </button>
        </div>
        <div class="bg-pink-50 p-5 rounded-3xl text-center mt-6">
            <p class="script-font text-pink-400 text-lg">Made with care for you ğŸ’</p>
        </div>
    </div>

    <!-- MAIN EXPLORE BUTTON -->
    <button id="explore-btn" onclick="toggleSidebar()" class="fixed top-6 right-6 w-14 h-14 flex flex-col justify-center items-center space-y-1.5 bg-white/60 backdrop-blur-xl rounded-full z-[3000] shadow-xl active:scale-90 transition-transform">
        <div class="w-7 h-1 bg-purple-600 rounded"></div>
        <div class="w-7 h-1 bg-purple-600 rounded"></div>
        <div class="w-7 h-1 bg-purple-600 rounded"></div>
    </button>

    <div id="sparkle-container"></div>

    <!-- SECTION 1: INTRO -->
    <div id="section-1" class="text-center max-w-2xl w-full fade-in px-4">
        <p class="script-font text-purple-400 text-2xl mb-4 italic">Hey, I made something for you... âœ¨</p>
        <h1 class="serif-font text-purple-600 text-4xl md:text-7xl mb-12 font-bold leading-tight">See what I have made for <br class="hidden md:block"> you ğŸ’Œ</h1>
        <div class="relative glass-card p-10 md:p-16">
            <div class="absolute top-4 left-6 flex space-x-2">
                <div class="w-3 h-3 rounded-full bg-red-400"></div>
                <div class="w-3 h-3 rounded-full bg-yellow-400"></div>
                <div class="w-3 h-3 rounded-full bg-green-400"></div>
            </div>
            <div class="space-y-6">
                <p class="text-gray-500 text-lg font-medium italic">Just a few thoughts, and a little question at the end. ğŸ’«</p>
                <p class="text-purple-500 font-semibold text-lg">Tap below when you're ready ğŸ’–</p>
                <button onclick="showSection(2)" class="bg-purple-500 hover:bg-purple-600 text-white font-bold py-4 px-12 rounded-2xl shadow-xl transition-all transform active:scale-95 flex items-center mx-auto space-x-2">
                    <span>Open This ğŸ’</span> <span class="text-xl">â†’</span>
                </button>
            </div>
        </div>
    </div>

    <!-- SECTION 2: ENVELOPE -->
    <div id="section-2" class="hidden-section text-center w-full px-4">
        <p class="script-font text-purple-400 text-xl mb-2 italic">Just because it felt right âœ¨</p>
        <h1 class="serif-font text-purple-600 text-5xl font-bold mb-12">A Little Note ğŸ’Œ</h1>
        <div class="glass-card p-12 md:p-24 flex flex-col items-center justify-center max-w-4xl mx-auto border-2 border-purple-50">
            <div class="envelope mb-12" onclick="showSection(3)">
                <div class="heart-seal text-2xl shadow-sm">â¤ï¸</div>
            </div>
            <button onclick="showSection(3)" class="bg-purple-100 text-purple-400 px-12 py-3 rounded-full text-sm font-bold border border-purple-200 active:scale-95 transition-transform">
                A Note For You ğŸ’–
            </button>
        </div>
    </div>

    <!-- SECTION 3: THE LETTER -->
    <div id="section-3" class="hidden-section text-center w-full px-4">
        <p class="script-font text-purple-400 text-xl mb-2 italic">Just because it felt right âœ¨</p>
        <h1 class="serif-font text-purple-600 text-5xl font-bold mb-10 md:mb-12">A Little Note ğŸ’Œ</h1>
        <div class="glass-card p-8 md:p-16 relative text-left max-w-4xl mx-auto overflow-visible">
            <!-- Removed the broken/flashing GIF as requested -->
            <div class="space-y-6">
                <h2 class="serif-font text-purple-600 text-3xl md:text-4xl font-bold border-b-2 border-purple-100 pb-3">Hey Taniya ğŸ’–</h2>
                <div class="handwriting-font text-2xl md:text-3xl text-gray-700 leading-relaxed italic space-y-4">
                    <p>I wanted to do something small today, simply because you matter to me. You show up with a calm kind of kindness that's easy to be around. The way you listen, notice the little things, and stay genuine means a lot. ğŸŒ™ I just wanted you to know I appreciate you. ğŸ¤</p>
                </div>
                <div class="flex justify-between items-end mt-12">
                    <span class="script-font text-purple-400 text-4xl">Always ğŸ’«</span>
                    <button onclick="showSection(4)" class="bg-purple-500 hover:bg-purple-600 text-white font-bold py-3 px-10 rounded-2xl shadow-lg active:scale-95 transition-all flex items-center space-x-2">
                        <span>Keep Going âœ¨</span> <span class="text-xl">â†’</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- SECTION 4: CHILL ZONE -->
    <div id="section-4" class="hidden-section text-center w-full px-4 max-w-5xl">
        <p class="script-font text-purple-400 text-2xl mb-2 italic">songs you might like âœ¨</p>
        <h1 class="serif-font text-purple-600 text-5xl font-bold mb-12">Chill Zone ğŸµ</h1>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12 text-left">
            <div class="glass-card p-6 flex items-center space-x-6"><div class="disc-logo flex-shrink-0"></div><div><h3 class="font-bold">You & I</h3><p class="text-gray-500 text-sm italic">Diego Gonzalez</p></div></div>
            <div class="glass-card p-6 flex items-center space-x-6"><div class="disc-logo flex-shrink-0"></div><div><h3 class="font-bold">P.S. I LOVE YOU</h3><p class="text-gray-500 text-sm italic">Paul Partohap</p></div></div>
            <div class="glass-card p-6 flex items-center space-x-6"><div class="disc-logo flex-shrink-0"></div><div><h3 class="font-bold">i know you know</h3><p class="text-gray-500 text-sm italic">CHSKA</p></div></div>
            <div class="glass-card p-6 flex items-center space-x-6"><div class="disc-logo flex-shrink-0"></div><div><h3 class="font-bold">U (You)</h3><p class="text-gray-500 text-sm italic">KIDO3008</p></div></div>
            <div class="glass-card p-6 flex items-center space-x-6"><div class="disc-logo flex-shrink-0"></div><div><h3 class="font-bold">LIMBO</h3><p class="text-gray-500 text-sm italic">keshi</p></div></div>
        </div>
        <button onclick="showSection(5)" class="bg-purple-500 text-white font-bold py-4 px-16 rounded-2xl shadow-xl transition-all active:scale-95">Memory Game âœ¨</button>
    </div>

    <!-- SECTION 5: MEMORY MATCH -->
    <div id="section-5" class="hidden-section text-center w-full px-4">
        <h1 class="serif-font text-purple-600 text-5xl font-bold mb-10">Memory Match ğŸ’</h1>
        <div class="flex justify-center space-x-4 md:space-x-12 mb-10 max-w-2xl mx-auto">
            <div class="stat-box"><p class="text-gray-400 text-xs uppercase font-bold mb-1">Moves</p><p id="moves-count" class="text-purple-600 text-4xl font-black">0</p></div>
            <div class="stat-box"><p class="text-gray-400 text-xs uppercase font-bold mb-1">Matched</p><p id="matched-count" class="text-purple-600 text-4xl font-black">0/6</p></div>
        </div>
        <div class="glass-card p-6 md:p-12 mb-10 max-w-4xl mx-auto"><div id="memory-grid" class="grid grid-cols-3 sm:grid-cols-6 gap-3 md:gap-4 justify-items-center"></div></div>
        <div class="flex justify-center space-x-4">
            <button onclick="resetGame()" class="bg-purple-100 text-purple-500 font-bold py-4 px-10 rounded-2xl active:scale-95 transition-transform">Reset</button>
            <button onclick="showSection(6)" class="bg-purple-500 text-white font-bold py-4 px-10 rounded-2xl shadow-lg active:scale-95 transition-transform">Next âœ¨</button>
        </div>
    </div>

    <!-- SECTION 7: MOMENTS TOGETHER -->
    <div id="section-7" class="hidden-section text-center w-full px-4 max-w-4xl">
        <h1 class="serif-font text-purple-600 text-5xl font-bold mb-10">Moments Together ğŸ¥</h1>
        <div class="space-y-8">
            <div class="glass-card p-4 md:p-8 shadow-2xl">
                <video class="w-full rounded-3xl" controls>
                    <source src="LOVE FULL.mp4" type="video/mp4">
                </video>
            </div>
            <div class="glass-card p-4 md:p-8 shadow-2xl">
                <video class="w-full rounded-3xl" controls>
                    <source src="love dinner.mp4" type="video/mp4">
                </video>
            </div>
        </div>
        <button onclick="showSection(8)" class="mt-10 bg-purple-500 text-white py-4 px-12 rounded-2xl shadow-lg active:scale-95 transition-all">Next Part âœ¨</button>
    </div>

    <!-- SECTION 9: PROPOSAL (Grand Finale) -->
    <div id="section-9" class="hidden-section text-center w-full px-4">
        <p class="script-font text-purple-400 text-xl mb-2 italic">the grand finale... âœ¨</p>
        <h1 class="serif-font text-purple-600 text-5xl md:text-7xl mb-12 font-bold">One Last Thought ğŸ’Œ</h1>
        
        <div class="glass-card p-6 md:p-12 shadow-2xl relative overflow-hidden max-w-3xl mx-auto border-2 border-purple-100" id="proposal-card">
            <div class="flex items-center space-x-4 mb-10 text-purple-500 px-2 md:px-6">
                <div class="w-12 h-12 rounded-2xl bg-purple-100/80 flex items-center justify-center text-2xl shadow-sm">ğŸ“©</div>
                <h3 class="font-bold text-xl uppercase tracking-widest text-purple-600/70">Final Letter</h3>
            </div>

            <div class="bg-white/40 rounded-[2.5rem] p-8 md:p-14 text-left space-y-8 shadow-inner border border-white/50">
                <h2 class="serif-font text-purple-600 text-3xl font-bold">Hey TaniyağŸ’–</h2>
                <div class="space-y-5 text-gray-700 italic leading-relaxed text-xl handwriting-font">
                    <p>This wasn't about perfection, just honesty. âœ¨</p>
                    <p>I wanted you to feel appreciated, and a little bit chosen. ğŸ¤</p>
                    <p>So here's my small proposal... ğŸ’«</p>
                    <p class="text-purple-600 font-bold text-3xl mt-12 tracking-tight">Will you be my Valentine? ğŸ’˜</p>
                </div>

                <div class="flex justify-end items-center space-x-6 mt-14 relative h-16">
                    <button onclick="proposalResult(this)" class="bg-purple-500 hover:bg-purple-600 text-white px-12 py-3.5 rounded-full font-bold shadow-lg transition-all transform hover:scale-105 active:scale-95 flex items-center justify-center min-w-[120px]">Yes</button>
                    <button id="proposal-no" onmouseover="dodgeProposal(this)" class="bg-white text-gray-400 px-12 py-3.5 rounded-full font-bold border border-gray-100 transition-all active:scale-95">No</button>
                </div>
            </div>

            <div id="success-message" class="hidden absolute inset-0 bg-white/98 z-50 flex flex-col items-center justify-center text-center p-8 backdrop-blur-md">
                <div class="text-9xl mb-12 animate-bounce">ğŸ’–</div>
                <h2 class="serif-font text-purple-600 text-5xl md:text-7xl font-bold">I love you forever and ever</h2>
                <p class="script-font text-4xl text-purple-400 mt-8">Always Yours Yambung âœ¨</p>
                <button onclick="location.reload()" class="mt-20 text-gray-400 text-sm underline tracking-widest uppercase hover:text-purple-400 transition-colors">Start Over âœ¨</button>
            </div>
        </div>
    </div>

    <!-- Placeholder Sections -->
    <div id="section-6" class="hidden-section text-center px-4 w-full"><h1 class="serif-font text-purple-600 text-6xl font-bold mb-12">Thoughts ğŸ’­</h1><button onclick="showSection(7)" class="bg-purple-500 text-white py-4 px-12 rounded-2xl shadow-xl">Moments âœ¨</button></div>
    <div id="section-8" class="hidden-section text-center w-full px-4 max-w-6xl"><h1 class="serif-font text-purple-600 text-5xl md:text-6xl font-bold mb-12">Why You Matter ğŸ’</h1><button onclick="showSection(9)" class="mt-16 bg-purple-500 text-white py-4 px-16 rounded-2xl shadow-2xl">Final Part ğŸ’Œ</button></div>

    <footer class="mt-24 text-purple-300 text-sm font-medium pb-12">Made with warmth, care, and a small spark âœ¨</footer>

    <script>
        // NAVIGATION Logic
        function toggleSidebar() { document.body.classList.toggle('sidebar-active'); }
        
        function showSection(num) {
            document.querySelectorAll('[id^="section-"]').forEach(s => { s.style.display = 'none'; s.classList.remove('fade-in'); });
            const target = document.getElementById('section-' + num);
            if(target) { target.style.display = 'block'; setTimeout(() => target.classList.add('fade-in'), 10); }
            
            document.querySelectorAll('video').forEach(v => v.pause());
            
            if(num === 5) resetGame();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // INITIALIZER Logic
        (function init() {
            const container = document.getElementById('sparkle-container');
            const icons = ['âœ¨', 'ğŸ’–', 'ğŸ’œ', 'ğŸŒ¸'];
            for (let i = 0; i < 25; i++) {
                const s = document.createElement('div');
                s.className = 'sparkle'; s.innerText = icons[Math.floor(Math.random() * icons.length)];
                s.style.left = Math.random() * 100 + 'vw'; s.style.top = Math.random() * 100 + 'vh';
                s.style.fontSize = (Math.random() * 1 + 0.5) + 'rem';
                s.style.animationDelay = (Math.random() * 5) + 's';
                container.appendChild(s);
            }
            const bar = document.getElementById('loading-bar');
            const loader = document.getElementById('loading-screen');
            setTimeout(() => { if(bar) bar.style.width = '100%'; }, 50);
            setTimeout(() => { if(loader) { loader.style.opacity = '0'; setTimeout(() => { loader.style.display = 'none'; }, 800); } }, 3800);
        })();

        // MEMORY GAME Logic
        const emojis = ['ğŸ’–', 'â¤ï¸', 'ğŸŒ¹', 'ğŸ’˜', 'ğŸ’', 'ğŸ’Œ'];
        let cards = [...emojis, ...emojis], flippedCards = [], matchedPairs = 0, moves = 0;
        function shuffle(a) { for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]]} return a; }
        
        function resetGame() {
            const grid = document.getElementById('memory-grid'); if(!grid) return;
            grid.innerHTML = ''; flippedCards = []; matchedPairs = 0; moves = 0;
            document.getElementById('moves-count').innerText = moves;
            document.getElementById('matched-count').innerText = '0/6';
            shuffle(cards).forEach(emoji => {
                const card = document.createElement('div'); card.className = 'memory-card';
                card.innerHTML = `<div class="card-front">?</div><div class="card-back">${emoji}</div>`;
                card.onclick = () => {
                    if (flippedCards.length < 2 && !card.classList.contains('flipped')) {
                        card.classList.add('flipped'); flippedCards.push(card);
                        if (flippedCards.length === 2) {
                            moves++; document.getElementById('moves-count').innerText = moves;
                            if (flippedCards[0].innerText === flippedCards[1].innerText) {
                                matchedPairs++; document.getElementById('matched-count').innerText = matchedPairs + '/6';
                                flippedCards = [];
                            } else { setTimeout(() => { flippedCards.forEach(c => c.classList.remove('flipped')); flippedCards = []; }, 800); }
                        }
                    }
                };
                grid.appendChild(card);
            });
        }

        // PROPOSAL Logic
        function dodgeProposal(btn) {
            const x = Math.random() * 260 - 130;
            const y = Math.random() * 260 - 130;
            btn.style.position = 'relative';
            btn.style.transform = `translate(${x}px, ${y}px)`;
        }
        function proposalResult(btn) {
            btn.classList.add('btn-pressed');
            setTimeout(() => {
                document.getElementById('success-message').classList.remove('hidden');
                document.getElementById('success-message').classList.add('fade-in');
            }, 300);
        }
    </script>
</body>
</html>
